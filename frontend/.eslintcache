[{"E:\\Binance\\dexmatch\\frontend\\src\\App.js":"1","E:\\Binance\\dexmatch\\frontend\\src\\index.js":"2","E:\\Binance\\dexmatch\\frontend\\src\\reportWebVitals.js":"3","E:\\Binance\\dexmatch\\dapp\\src\\App.js":"4","E:\\Binance\\dexmatch\\dapp\\src\\reportWebVitals.js":"5","E:\\Binance\\dexmatch\\dapp\\src\\index.js":"6","E:\\Binance\\dexmatch\\dapp\\src\\components\\Toolbar.js":"7","E:\\Binance\\dexmatch\\dapp\\src\\containers\\Home.js":"8","E:\\Binance\\dexmatch\\dapp\\src\\containers\\Faucet.js":"9","E:\\Binance\\dexmatch\\dapp\\src\\containers\\Tokens.js":"10","E:\\Binance\\dexmatch\\dapp\\src\\assets\\Tokens.js":"11","E:\\Binance\\dexmatch\\dapp\\src\\containers\\Pairs.js":"12","E:\\Binance\\dexmatch\\dapp\\src\\web3\\connectors.js":"13","E:\\Binance\\dexmatch\\dapp\\src\\assets\\Exchange.js":"14","E:\\Binance\\dexmatch\\dapp\\src\\components\\BuySell.js":"15","E:\\Binance\\dexmatch\\dapp\\src\\components\\BuyOrderBook.js":"16","E:\\Binance\\dexmatch\\dapp\\src\\components\\SellOrderBook.js":"17","E:\\Binance\\dexmatch\\dapp\\src\\components\\WalletConnector.js":"18","E:\\Binance\\dexmatch\\dapp\\src\\components\\PairSelect.js":"19","E:\\Binance\\dexmatch\\dapp\\src\\components\\Front.js":"20","E:\\Binance\\dexmatch\\dapp\\src\\components\\UserOrders.js":"21","E:\\Binance\\binancedex\\frontend\\src\\index.js":"22","E:\\Binance\\binancedex\\frontend\\src\\containers\\Home.js":"23","E:\\Binance\\binancedex\\frontend\\src\\components\\Toolbar.js":"24","E:\\Binance\\binancedex\\frontend\\src\\containers\\Pairs.js":"25","E:\\Binance\\binancedex\\frontend\\src\\components\\WalletConnector.js":"26","E:\\Binance\\binancedex\\frontend\\src\\components\\UserOrders.js":"27","E:\\Binance\\binancedex\\frontend\\src\\components\\Front.js":"28","E:\\Binance\\binancedex\\frontend\\src\\components\\PairSelect.js":"29","E:\\Binance\\binancedex\\frontend\\src\\web3\\connectors.js":"30","E:\\Binance\\binancedex\\frontend\\src\\App.js":"31","E:\\Binance\\binancedex\\frontend\\src\\containers\\Tokens.js":"32","E:\\Binance\\binancedex\\frontend\\src\\components\\BuyOrderBook.js":"33","E:\\Binance\\binancedex\\frontend\\src\\components\\BuySell.js":"34","E:\\Binance\\binancedex\\frontend\\src\\assets\\Tokens.js":"35"},{"size":5484,"mtime":1607948585217,"results":"36","hashOfConfig":"37"},{"size":542,"mtime":1607901560954,"results":"38","hashOfConfig":"37"},{"size":362,"mtime":1607382662146,"results":"39","hashOfConfig":"37"},{"size":1114,"mtime":1609666586917,"results":"40","hashOfConfig":"41"},{"size":362,"mtime":1607382662146,"results":"42","hashOfConfig":"41"},{"size":542,"mtime":1607901560954,"results":"43","hashOfConfig":"41"},{"size":1279,"mtime":1609667061047,"results":"44","hashOfConfig":"41"},{"size":5000,"mtime":1611743416109,"results":"45","hashOfConfig":"41"},{"size":1157,"mtime":1609891337821,"results":"46","hashOfConfig":"41"},{"size":1320,"mtime":1611055862049,"results":"47","hashOfConfig":"41"},{"size":873,"mtime":1609805244111,"results":"48","hashOfConfig":"41"},{"size":5203,"mtime":1611055607896,"results":"49","hashOfConfig":"41"},{"size":324,"mtime":1609837902408,"results":"50","hashOfConfig":"41"},{"size":92,"mtime":1611747500837,"results":"51","hashOfConfig":"41"},{"size":9095,"mtime":1611706630675,"results":"52","hashOfConfig":"41"},{"size":4229,"mtime":1611708523512,"results":"53","hashOfConfig":"41"},{"size":4227,"mtime":1611708984864,"results":"54","hashOfConfig":"41"},{"size":3741,"mtime":1611190712033,"results":"55","hashOfConfig":"41"},{"size":835,"mtime":1611400239531,"results":"56","hashOfConfig":"41"},{"size":1241,"mtime":1611275390735,"results":"57","hashOfConfig":"41"},{"size":152,"mtime":1611743557520,"results":"58","hashOfConfig":"41"},{"size":542,"mtime":1607901560954,"results":"59","hashOfConfig":"60"},{"size":4543,"mtime":1611965353450,"results":"61","hashOfConfig":"60"},{"size":1279,"mtime":1609667061047,"results":"62","hashOfConfig":"60"},{"size":5203,"mtime":1611055607896,"results":"63","hashOfConfig":"60"},{"size":3741,"mtime":1611190712033,"results":"64","hashOfConfig":"60"},{"size":380,"mtime":1611750521302,"results":"65","hashOfConfig":"60"},{"size":1241,"mtime":1611275390735,"results":"66","hashOfConfig":"60"},{"size":919,"mtime":1611828531799,"results":"67","hashOfConfig":"60"},{"size":324,"mtime":1609837902408,"results":"68","hashOfConfig":"60"},{"size":1114,"mtime":1609666586917,"results":"69","hashOfConfig":"60"},{"size":1320,"mtime":1611055862049,"results":"70","hashOfConfig":"60"},{"size":4229,"mtime":1611708523512,"results":"71","hashOfConfig":"60"},{"size":9101,"mtime":1611969996789,"results":"72","hashOfConfig":"60"},{"size":873,"mtime":1611749779589,"results":"73","hashOfConfig":"60"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1a37lq5",{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},"70yvj9",{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"92"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"102"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"92"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"88"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"88"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"99"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"99"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"125"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"lme6c1",{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"134"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"137"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"137"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"142","usedDeprecatedRules":"143"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"137"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"134"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"143"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Binance\\dexmatch\\frontend\\src\\App.js",["160","161","162"],"E:\\Binance\\dexmatch\\frontend\\src\\index.js",[],"E:\\Binance\\dexmatch\\frontend\\src\\reportWebVitals.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\App.js",[],["163","164"],"E:\\Binance\\dexmatch\\dapp\\src\\reportWebVitals.js",[],["165","166"],"E:\\Binance\\dexmatch\\dapp\\src\\index.js",[],["167","168"],"E:\\Binance\\dexmatch\\dapp\\src\\components\\Toolbar.js",["169"],"import React,{useState} from 'react';\r\nimport {Link } from 'react-router-dom';\r\nimport { Menu } from 'semantic-ui-react';\r\n\r\n\r\nconst Toolbar = () => {\r\n    const [activeItem,setActiveItem] = useState('DEX');\r\n\r\n    const menuClick = (e) => {\r\n        //setActiveItem({name});\r\n        //console.log(e);\r\n    }\r\n    return (\r\n        <Menu pointing secondary>\r\n        <Menu.Item as={ Link }\r\n          name='DEX'\r\n          active={activeItem === 'DEX'}\r\n          onClick={menuClick}\r\n          to=\"/\"\r\n        />\r\n        <Menu.Item as={ Link }\r\n          name='Tokens'\r\n          active={activeItem === 'Tokens'}\r\n          onClick={menuClick}\r\n          to=\"/Tokens\"\r\n        />\r\n        <Menu.Item as={ Link }\r\n          name='Pairs'\r\n          active={activeItem === 'Pairs'}\r\n          onClick={menuClick}\r\n          to=\"/Pairs\"\r\n        />\r\n        <Menu.Item as={ Link }\r\n          name='Faucet'\r\n          active={activeItem === 'Faucet'}\r\n          onClick={menuClick}\r\n          to=\"/Faucet\"\r\n        />\r\n        <Menu.Menu position='right'>\r\n          <Menu.Item\r\n            name='DEX TESTBED'\r\n            active={activeItem === 'DEX TESTBED'}\r\n            onClick={menuClick}\r\n          />\r\n        </Menu.Menu>\r\n      </Menu>\r\n    )\r\n}\r\n\r\nexport default Toolbar;",["170","171"],"E:\\Binance\\dexmatch\\dapp\\src\\containers\\Home.js",["172"],"E:\\Binance\\dexmatch\\dapp\\src\\containers\\Faucet.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\containers\\Tokens.js",[],["173","174"],"E:\\Binance\\dexmatch\\dapp\\src\\assets\\Tokens.js",[],["175","176"],"E:\\Binance\\dexmatch\\dapp\\src\\containers\\Pairs.js",["177"],"import React, { useState, useEffect } from 'react';\r\nimport { ethers } from \"ethers\";\r\nimport { Button, Grid, Table, Dropdown } from 'semantic-ui-react';\r\nimport exchange from '../contracts/Dex.json';\r\nimport { EXCHANGEADD } from '../assets/Exchange';\r\nimport {TOKENS} from '../assets/Tokens';\r\n\r\nconst exchangeAddress = EXCHANGEADD.address;\r\n\r\nconst Pairs = () => {\r\n    const [tokenPairs,setTokenPairs] = useState([]);\r\n    const [numPairs,setNumPairs] = useState(0);\r\n    const [options,setOptions] = useState([]);\r\n    const [firstToken,setFirstToken] = useState('');\r\n    const [secondToken,setSecondToken] = useState('');\r\n\r\n    console.log(options);\r\n    console.log(tokenPairs);\r\n\r\n    useEffect( () => {\r\n        const tokensDropdown = () => {\r\n            console.log(TOKENS.length);\r\n            setOptions([]);\r\n            TOKENS.map(token => setOptions(options => [...options,{\r\n                text: token.symbol,\r\n                id : token.address,\r\n                value : token.address,\r\n            }]));\r\n        }\r\n        tokensDropdown();\r\n    },[]);\r\n\r\n    useEffect( () => {\r\n        const getList = async () => {\r\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n            //const signer = provider.getSigner();\r\n            const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n            let id = (await contract.getTotalPairs()).toNumber();\r\n            setNumPairs(id);\r\n            setTokenPairs([]);\r\n            for(let i = 1; i <= id; ++i) {\r\n                let pairInfo = await contract.getPairInfo(i);\r\n                //console.log(pairInfo);\r\n                setTokenPairs(tokenPairs => [...tokenPairs,{\r\n                    id: i,\r\n                    tokenAddress1: pairInfo[0].toString(),\r\n                    tokenSymbol1: pairInfo[1].toString(),\r\n                    tokenAddress2: pairInfo[2].toString(),\r\n                    tokenSymbol2: pairInfo[3].toString(),\r\n                }]);\r\n            }\r\n        }\r\n        getList();\r\n    },[])\r\n\r\n    const firstDropdown = (e,d) => {\r\n        e.preventDefault();\r\n        setFirstToken(d.value);\r\n    }\r\n\r\n    const secondDropdown = (e,d) => {\r\n        e.preventDefault();\r\n        setSecondToken(d.value);\r\n    }\r\n\r\n    const createPair = async () => {\r\n        if (firstToken === '' || secondToken === '') {\r\n            alert(\"Please Select Both Tokens\");\r\n            return;\r\n        }\r\n\r\n        if (firstToken === secondToken) {\r\n            alert(\"Please Select Two Different Tokens\");\r\n            return;\r\n        }\r\n\r\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n        const signer = provider.getSigner();\r\n        const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n        const connectedContract = contract.connect(signer);\r\n        connectedContract.createTokenPair(firstToken,secondToken);\r\n    }\r\n\r\n    return (\r\n        <Grid>\r\n            <Grid.Row centered>\r\n                <h2>Available Token Pairs</h2>\r\n            </Grid.Row>\r\n            <Grid.Row centered>\r\n                <Table celled padded>\r\n                    <Table.Header>\r\n                        <Table.Row>\r\n                            <Table.HeaderCell textAlign='center'>Pair ID</Table.HeaderCell>\r\n                            <Table.HeaderCell textAlign='center'>Token 1</Table.HeaderCell>\r\n                            <Table.HeaderCell textAlign='center'>Token 2</Table.HeaderCell>\r\n                        </Table.Row>                \r\n                    </Table.Header>\r\n                    <Table.Body>\r\n                        {tokenPairs.map(tokenPair => {\r\n                            return (\r\n                                <Table.Row key={tokenPair.id}>\r\n                                    <Table.Cell textAlign='center'>{tokenPair.id}</Table.Cell>\r\n                                    <Table.Cell textAlign='center'>{tokenPair.tokenSymbol1}</Table.Cell>\r\n                                    <Table.Cell textAlign='center'>{tokenPair.tokenSymbol2}</Table.Cell>\r\n                                </Table.Row>\r\n                            )\r\n                        })}\r\n                    </Table.Body>\r\n                </Table>\r\n            </Grid.Row>\r\n            <Grid.Row centered>\r\n                <h2>Create Additional Pairs</h2>\r\n            </Grid.Row>\r\n            <Grid.Row centered columns={3}>\r\n                <Grid.Column textAlign='center'>\r\n                    <Dropdown placeholder='Token 1' options={options} onChange={firstDropdown} search selection/>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row centered columns={3}>\r\n                <Grid.Column textAlign='center'>\r\n                    <Dropdown placeholder='Token 2' options={options} onChange={secondDropdown} search selection/>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row centered columns={3}>\r\n                <Grid.Column textAlign='center'>\r\n                    <Button primary onClick={createPair}>Create Pair</Button>\r\n                </Grid.Column>\r\n            </Grid.Row>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default Pairs;","E:\\Binance\\dexmatch\\dapp\\src\\web3\\connectors.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\assets\\Exchange.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\components\\BuySell.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\components\\BuyOrderBook.js",["178"],"import React, { useState, useEffect } from 'react';\r\nimport { ethers } from \"ethers\";\r\nimport exchange from '../contracts/Dex.json';\r\nimport { EXCHANGEADD } from '../assets/Exchange';\r\nimport { Table } from 'semantic-ui-react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nconst UNIT = 1000000000000000000;\r\nconst exchangeAddress = EXCHANGEADD.address;\r\n\r\nconst BuyOrderBook = ({firstToken,firstAddress,secondToken,secondAddress}) => {\r\n    const [orderSize,setOrderSize] = useState(0);\r\n    const [orders,setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getOrderList = async () => {\r\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n            const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n            console.log(firstToken,firstAddress,secondToken,secondAddress);\r\n\r\n            if (firstAddress && secondAddress) {\r\n                let offerSize = await contract.getOfferSize(secondAddress,firstAddress);\r\n                setOrderSize(offerSize.toNumber());\r\n            }\r\n        } \r\n\r\n        getOrderList();\r\n    },[firstToken,firstAddress,secondToken,secondAddress]);\r\n\r\n    useEffect(() => {\r\n        const getOrders = async () => {\r\n            if (orderSize > 0) {\r\n                const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n                console.log(orderSize);\r\n\r\n                setOrders([]);\r\n    \r\n                let offerId = (await contract.getBestOffer(secondAddress,firstAddress)).toNumber();\r\n                let offers = await contract.getOfferPerId(offerId);\r\n\r\n                let sell = new BigNumber(offers[1].toString());\r\n                let buy = new BigNumber(offers[3].toString());\r\n\r\n                let price = buy.dividedBy(sell).toNumber();\r\n                let amount = sell.dividedBy(UNIT).toNumber();\r\n                let total = buy.dividedBy(UNIT).toNumber();\r\n\r\n                console.log(price,amount,total);\r\n\r\n                setOrders(orders => [...orders, {\r\n                    id: offerId,\r\n                    price: price,\r\n                    amount: amount,\r\n                    total: total,\r\n                }]);\r\n\r\n                for (let i = 1; i < orderSize; ++i) {\r\n                    offerId = (await contract.getPrevOffer(offerId)).toNumber();\r\n                    offers = await contract.getOfferPerId(offerId);\r\n\r\n                    sell = new BigNumber(offers[1].toString());\r\n                    buy = new BigNumber(offers[3].toString());\r\n                    price = buy.dividedBy(sell).toNumber();\r\n                    amount = sell.dividedBy(UNIT).toNumber();\r\n                    total = buy.dividedBy(UNIT).toNumber();\r\n\r\n                    setOrders(orders => [...orders, {\r\n                        id: offerId,\r\n                        price: price,\r\n                        amount: amount,\r\n                        total: total,\r\n                    }]);\r\n                }\r\n            } else {\r\n                setOrders([]);\r\n            }\r\n        }\r\n\r\n        getOrders();\r\n    },[orderSize,firstAddress,secondAddress]);\r\n\r\n    \r\n\r\n    return (\r\n        <Table celled padded>\r\n            <Table.Header>\r\n                <Table.Row>\r\n                    <Table.HeaderCell textAlign='center'>Price</Table.HeaderCell>\r\n                    <Table.HeaderCell textAlign='center'>Amount</Table.HeaderCell>\r\n                    <Table.HeaderCell textAlign='center'>Total</Table.HeaderCell>\r\n                </Table.Row>                \r\n            </Table.Header>\r\n            <Table.Body>\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Table.Row key={order.id}>\r\n                            <Table.Cell textAlign='center'>{order.price}</Table.Cell>\r\n                            <Table.Cell textAlign='center'>{order.amount}</Table.Cell>\r\n                            <Table.Cell textAlign='center'>{order.total}</Table.Cell>\r\n                        </Table.Row>\r\n                    )\r\n                })}\r\n            </Table.Body>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default BuyOrderBook;","E:\\Binance\\dexmatch\\dapp\\src\\components\\SellOrderBook.js",["179"],"import React, { useState, useEffect } from 'react';\r\nimport { ethers } from \"ethers\";\r\nimport exchange from '../contracts/Dex.json';\r\nimport { EXCHANGEADD } from '../assets/Exchange';\r\nimport { Table } from 'semantic-ui-react';\r\nimport BigNumber from 'bignumber.js';\r\n\r\nconst UNIT = 1000000000000000000;\r\nconst exchangeAddress = EXCHANGEADD.address;\r\n\r\n\r\nconst SellOrderBook = ({firstToken,firstAddress,secondToken,secondAddress}) => {\r\n    const [orderSize,setOrderSize] = useState(0);\r\n    const [orders,setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const getOrderList = async () => {\r\n            const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n            const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n            console.log(firstToken,firstAddress,secondToken,secondAddress);\r\n\r\n            if (firstAddress && secondAddress) {\r\n                let offerSize = await contract.getOfferSize(firstAddress,secondAddress);\r\n                setOrderSize(offerSize.toNumber());\r\n            }\r\n        } \r\n\r\n        getOrderList();\r\n    },[firstToken,firstAddress,secondToken,secondAddress]);\r\n\r\n    useEffect(() => {\r\n        const getOrders = async () => {\r\n            if (orderSize > 0) {\r\n                const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n                const contract = new ethers.Contract(exchangeAddress, exchange.abi, provider);\r\n                console.log(orderSize);\r\n\r\n                setOrders([]);\r\n    \r\n                let offerId = (await contract.getBestOffer(firstAddress,secondAddress)).toNumber();\r\n                let offers = await contract.getOfferPerId(offerId);\r\n\r\n                let sell = new BigNumber(offers[1].toString());\r\n                let buy = new BigNumber(offers[3].toString());\r\n\r\n                let price = sell.dividedBy(buy).toNumber();\r\n                let amount = buy.dividedBy(UNIT).toNumber();\r\n                let total = sell.dividedBy(UNIT).toNumber();\r\n\r\n                console.log(price,amount,total);\r\n\r\n                setOrders(orders => [...orders, {\r\n                    id: offerId,\r\n                    price: price,\r\n                    amount: amount,\r\n                    total: total,\r\n                }]);\r\n\r\n                for (let i = 1; i < orderSize; ++i) {\r\n                    offerId = (await contract.getPrevOffer(offerId)).toNumber();\r\n                    offers = await contract.getOfferPerId(offerId);\r\n\r\n                    sell = new BigNumber(offers[1].toString());\r\n                    buy = new BigNumber(offers[3].toString());\r\n\r\n                    price = sell.dividedBy(buy).toNumber();\r\n                    amount = buy.dividedBy(UNIT).toNumber();\r\n                    total = sell.dividedBy(UNIT).toNumber();\r\n\r\n                    setOrders(orders => [...orders, {\r\n                        id: offerId,\r\n                        price: price,\r\n                        amount: amount,\r\n                        total: total,\r\n                    }]);\r\n                }\r\n            } else {\r\n                setOrders([]);\r\n            }\r\n        }\r\n\r\n        getOrders();\r\n    },[orderSize,firstAddress,secondAddress]);\r\n\r\n    return (\r\n        <Table celled padded>\r\n            <Table.Header>\r\n                <Table.Row>\r\n                    <Table.HeaderCell textAlign='center'>Price</Table.HeaderCell>\r\n                    <Table.HeaderCell textAlign='center'>Amount</Table.HeaderCell>\r\n                    <Table.HeaderCell textAlign='center'>Total</Table.HeaderCell>\r\n                </Table.Row>                \r\n            </Table.Header>\r\n            <Table.Body>\r\n                {orders.map(order => {\r\n                    return (\r\n                        <Table.Row key={order.id}>\r\n                            <Table.Cell textAlign='center'>{order.price}</Table.Cell>\r\n                            <Table.Cell textAlign='center'>{order.amount}</Table.Cell>\r\n                            <Table.Cell textAlign='center'>{order.total}</Table.Cell>\r\n                        </Table.Row>\r\n                    )\r\n                })}\r\n            </Table.Body>\r\n        </Table>\r\n    )\r\n}\r\n\r\nexport default SellOrderBook;","E:\\Binance\\dexmatch\\dapp\\src\\components\\WalletConnector.js",["180","181","182"],"import React, { useState, useEffect } from 'react'; \r\nimport { useWeb3React } from '@web3-react/core';\r\nimport useSWR from 'swr';\r\nimport { formatEther, formatUnits } from \"@ethersproject/units\";\r\nimport { Contract } from '@ethersproject/contracts';\r\nimport { isAddress } from '@ethersproject/address';\r\nimport ERC20 from '../contracts/erc20.json';\r\nimport { Table } from 'semantic-ui-react';\r\nimport {TOKENS} from '../assets/Tokens';\r\n\r\n\r\nconst fetcher = (library,abi) => (...args) => {\r\n  const [arg1, arg2, ...params] = args;\r\n\r\n  if (isAddress(arg1)) {\r\n    const address = arg1;\r\n    const method = arg2;\r\n    const contract = new Contract(address, abi, library.getSigner());\r\n    return contract[method](...params);\r\n  }\r\n  \r\n  const method = arg1;\r\n  return library[method](arg2, ...params);\r\n}\r\n\r\nexport const Balance = () => {\r\n  const { account, library } = useWeb3React();\r\n  const { data: balance, mutate } = useSWR(['getBalance', account, 'latest'], {\r\n    fetcher: fetcher(library,ERC20),\r\n  });\r\n\r\n  useEffect(() => {\r\n    library.on('block',() => {\r\n      mutate(undefined, true);\r\n    });\r\n\r\n    return () => {\r\n      library.removeAllListeners('block');\r\n    };\r\n  },[]);\r\n\r\n  if(!balance) {\r\n    return <div>...</div>\r\n  }\r\n  return <div>BNB : {parseFloat(formatEther(balance)).toPrecision(4)}</div>;\r\n}\r\n  \r\nexport const TokenBalance = ({ symbol, address, decimals }) => {\r\n  const { account, library } = useWeb3React();\r\n  const { data: balance, mutate } = useSWR([address, 'balanceOf', account], {\r\n    fetcher: fetcher(library, ERC20),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const contract = new Contract(address, ERC20, library.getSigner());\r\n    const fromAcc = contract.filters.Transfer(account, null);\r\n    library.on(fromAcc, (from, to, amount, event) => {\r\n      console.log('Transfer|sent', { from, to, amount, event });\r\n      mutate(undefined, true);\r\n    });\r\n    const toAcc = contract.filters.Transfer(null, account);\r\n    library.on(toAcc, (from, to, amount, event) => {\r\n      console.log('Transfer|received', { from, to, amount, event });\r\n      mutate(undefined, true);\r\n    });\r\n\r\n    return () => {\r\n      library.removeAllListeners(fromAcc);\r\n      library.removeAllListeners(toAcc);\r\n    };\r\n  },[]);\r\n\r\n  if(!balance) {\r\n    return <Table.Body>...</Table.Body>\r\n  }\r\n  return (\r\n  <Table.Body>\r\n    <Table.Cell textAlign='center'>{symbol}</Table.Cell>\r\n    <Table.Cell textAlign='center'>{parseFloat(formatUnits(balance, decimals)).toPrecision(4)}</Table.Cell>\r\n  </Table.Body>);\r\n}\r\n  \r\nexport const TokenList = ({chainId}) => {\r\n  if (chainId === 97) {\r\n    return (\r\n      <>\r\n        <Table basic celled collapsing>\r\n          <Table.Header>\r\n            <Table.Row>\r\n              <Table.HeaderCell textAlign='center'>Symbol</Table.HeaderCell>\r\n              <Table.HeaderCell textAlign='center'>Amount</Table.HeaderCell>\r\n            </Table.Row>\r\n          </Table.Header> \r\n          {TOKENS.map((token) => (\r\n            <TokenBalance key={token.address} {...token} />\r\n          ))}\r\n        </Table>\r\n      </>\r\n    )\r\n  } else {\r\n    return (\r\n      <div></div>\r\n    )\r\n  }\r\n};\r\n\r\n/*\r\nexport const Wallet = () => {\r\n  const { chainId, account, activate, active } = useWeb3React();\r\n\r\n  const onClick = () => {\r\n    activate(injectedConnector);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h4>USER ACCOUNT</h4>\r\n      {active ? (\r\n        <div>\r\n          <div>ChainId: {chainId}</div>\r\n          <div>Account: {account}</div>   \r\n        </div>\r\n      ) : (\r\n        <Button primary onClick={onClick}>\r\n          Connect To MetaMask\r\n        </Button>\r\n      )}\r\n      {active && \r\n      <>\r\n        <Balance />\r\n        <TokenList chainId={chainId} />\r\n      </>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n*/","E:\\Binance\\dexmatch\\dapp\\src\\components\\PairSelect.js",[],"E:\\Binance\\dexmatch\\dapp\\src\\components\\Front.js",[],["183","184"],"E:\\Binance\\dexmatch\\dapp\\src\\components\\UserOrders.js",[],"E:\\Binance\\binancedex\\frontend\\src\\index.js",[],"E:\\Binance\\binancedex\\frontend\\src\\containers\\Home.js",["185","186"],"E:\\Binance\\binancedex\\frontend\\src\\components\\Toolbar.js",["187"],["188","189"],"E:\\Binance\\binancedex\\frontend\\src\\containers\\Pairs.js",["190"],["191","192"],"E:\\Binance\\binancedex\\frontend\\src\\components\\WalletConnector.js",["193","194","195"],"E:\\Binance\\binancedex\\frontend\\src\\components\\UserOrders.js",["196","197","198","199"],"import React from 'react';\r\nimport { ethers } from \"ethers\";\r\nimport exchange from '../contracts/Dex.json';\r\nimport { EXCHANGEADD } from '../assets/Exchange';\r\n\r\nimport { Table } from 'semantic-ui-react';\r\n\r\n\r\nconst exchangeAddress = EXCHANGEADD.address;\r\n\r\nconst UserOrders = ({account}) => {\r\n    return (\r\n        <div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserOrders;",["200","201"],"E:\\Binance\\binancedex\\frontend\\src\\components\\Front.js",[],"E:\\Binance\\binancedex\\frontend\\src\\components\\PairSelect.js",[],"E:\\Binance\\binancedex\\frontend\\src\\web3\\connectors.js",[],"E:\\Binance\\binancedex\\frontend\\src\\App.js",[],"E:\\Binance\\binancedex\\frontend\\src\\containers\\Tokens.js",[],"E:\\Binance\\binancedex\\frontend\\src\\components\\BuyOrderBook.js",["202"],"E:\\Binance\\binancedex\\frontend\\src\\components\\BuySell.js",[],"E:\\Binance\\binancedex\\frontend\\src\\assets\\Tokens.js",[],{"ruleId":"203","severity":1,"message":"204","line":78,"column":5,"nodeType":"205","endLine":78,"endColumn":7,"suggestions":"206"},{"ruleId":"203","severity":1,"message":"207","line":109,"column":5,"nodeType":"205","endLine":109,"endColumn":7,"suggestions":"208"},{"ruleId":"209","severity":1,"message":"210","line":166,"column":21,"nodeType":"211","messageId":"212","endLine":166,"endColumn":34},{"ruleId":"213","replacedBy":"214"},{"ruleId":"215","replacedBy":"216"},{"ruleId":"213","replacedBy":"217"},{"ruleId":"215","replacedBy":"218"},{"ruleId":"213","replacedBy":"219"},{"ruleId":"215","replacedBy":"220"},{"ruleId":"209","severity":1,"message":"210","line":7,"column":23,"nodeType":"211","messageId":"212","endLine":7,"endColumn":36},{"ruleId":"213","replacedBy":"221"},{"ruleId":"215","replacedBy":"222"},{"ruleId":"209","severity":1,"message":"223","line":20,"column":10,"nodeType":"211","messageId":"212","endLine":20,"endColumn":18},{"ruleId":"213","replacedBy":"224"},{"ruleId":"215","replacedBy":"225"},{"ruleId":"213","replacedBy":"226"},{"ruleId":"215","replacedBy":"227"},{"ruleId":"209","severity":1,"message":"223","line":12,"column":12,"nodeType":"211","messageId":"212","endLine":12,"endColumn":20},{"ruleId":"228","severity":1,"message":"229","line":68,"column":31,"nodeType":"230","messageId":"231","endLine":73,"endColumn":23},{"ruleId":"228","severity":1,"message":"229","line":70,"column":31,"nodeType":"230","messageId":"231","endLine":75,"endColumn":23},{"ruleId":"209","severity":1,"message":"232","line":1,"column":17,"nodeType":"211","messageId":"212","endLine":1,"endColumn":25},{"ruleId":"203","severity":1,"message":"204","line":40,"column":5,"nodeType":"205","endLine":40,"endColumn":7,"suggestions":"233"},{"ruleId":"203","severity":1,"message":"207","line":71,"column":5,"nodeType":"205","endLine":71,"endColumn":7,"suggestions":"234"},{"ruleId":"213","replacedBy":"235"},{"ruleId":"215","replacedBy":"236"},{"ruleId":"209","severity":1,"message":"237","line":13,"column":8,"nodeType":"211","messageId":"212","endLine":13,"endColumn":18},{"ruleId":"209","severity":1,"message":"223","line":20,"column":10,"nodeType":"211","messageId":"212","endLine":20,"endColumn":18},{"ruleId":"209","severity":1,"message":"210","line":7,"column":23,"nodeType":"211","messageId":"212","endLine":7,"endColumn":36},{"ruleId":"213","replacedBy":"238"},{"ruleId":"215","replacedBy":"239"},{"ruleId":"209","severity":1,"message":"223","line":12,"column":12,"nodeType":"211","messageId":"212","endLine":12,"endColumn":20},{"ruleId":"213","replacedBy":"240"},{"ruleId":"215","replacedBy":"241"},{"ruleId":"209","severity":1,"message":"232","line":1,"column":17,"nodeType":"211","messageId":"212","endLine":1,"endColumn":25},{"ruleId":"203","severity":1,"message":"204","line":40,"column":5,"nodeType":"205","endLine":40,"endColumn":7,"suggestions":"242"},{"ruleId":"203","severity":1,"message":"207","line":71,"column":5,"nodeType":"205","endLine":71,"endColumn":7,"suggestions":"243"},{"ruleId":"209","severity":1,"message":"244","line":2,"column":10,"nodeType":"211","messageId":"212","endLine":2,"endColumn":16},{"ruleId":"209","severity":1,"message":"245","line":3,"column":8,"nodeType":"211","messageId":"212","endLine":3,"endColumn":16},{"ruleId":"209","severity":1,"message":"246","line":6,"column":10,"nodeType":"211","messageId":"212","endLine":6,"endColumn":15},{"ruleId":"209","severity":1,"message":"247","line":9,"column":7,"nodeType":"211","messageId":"212","endLine":9,"endColumn":22},{"ruleId":"213","replacedBy":"248"},{"ruleId":"215","replacedBy":"249"},{"ruleId":"228","severity":1,"message":"229","line":68,"column":31,"nodeType":"230","messageId":"231","endLine":73,"endColumn":23},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'library' and 'mutate'. Either include them or remove the dependency array.","ArrayExpression",["250"],"React Hook useEffect has missing dependencies: 'account', 'address', 'library', and 'mutate'. Either include them or remove the dependency array.",["251"],"no-unused-vars","'setActiveItem' is assigned a value but never used.","Identifier","unusedVar","no-native-reassign",["252"],"no-negated-in-lhs",["253"],["252"],["253"],["252"],["253"],["252"],["253"],"'numPairs' is assigned a value but never used.",["252"],["253"],["252"],["253"],"no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'offerId', 'price', 'amount', 'total'.","ArrowFunctionExpression","unsafeRefs","'useState' is defined but never used.",["254"],["255"],["252"],["253"],"'UserOrders' is defined but never used.",["252"],["253"],["252"],["253"],["256"],["257"],"'ethers' is defined but never used.","'exchange' is defined but never used.","'Table' is defined but never used.","'exchangeAddress' is assigned a value but never used.",["252"],["253"],{"desc":"258","fix":"259"},{"desc":"260","fix":"261"},"no-global-assign","no-unsafe-negation",{"desc":"258","fix":"262"},{"desc":"260","fix":"263"},{"desc":"258","fix":"264"},{"desc":"260","fix":"265"},"Update the dependencies array to be: [library, mutate]",{"range":"266","text":"267"},"Update the dependencies array to be: [account, address, library, mutate]",{"range":"268","text":"269"},{"range":"270","text":"267"},{"range":"271","text":"269"},{"range":"272","text":"267"},{"range":"273","text":"269"},[2075,2077],"[library, mutate]",[3092,3094],"[account, address, library, mutate]",[1185,1187],[2235,2237],[1185,1187],[2235,2237]]